<!DOCTYPE html>
<html>

<head>
  <title><%= title %></title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body>
  <h1><%= title %></h1>
  <h5>A mock corporate booking tool which can demonstrate the ability to place well targetted, contextual advertising.
    The demo will include parameters to adjust the values of the traveler and the trip, and view the resulting
    adjustments in the advertising targetting in real time.</h5>
  <div class="card-panel">
    <h2>Travel Profile</h2>
    <form id="travelProfile">
      <table>
        <tr>
          <td>
            <h6>
              Corporate rank:
            </h6>
            <label>
              <input name="rank" type="radio" value="executive" checked />
              <span>Executive</span>
            </label>
            <br />
            <label>
              <input name="rank" type="radio" value="mid-level sales" />
              <span>Mid-level Sales</span>
            </label>
          </td>
          <td>
            <h6>
              Age:
            </h6>
            <label>
              <input name="age" type="radio" value="25" checked />
              <span>25</span>
            </label>
            <br />
            <label>
              <input name="age" type="radio" value="50" />
              <span>50</span>
            </label>
          </td>
          <td>
            <h6>
              Gender:
            </h6>
            <label>
              <input name="gender" type="radio" value="male" checked />
              <span>Male</span>
            </label>
            <br />
            <label>
              <input name="gender" type="radio" value="female" />
              <span>Female</span>
            </label>
          </td>
        </tr>
      </table>
    </form>
  </div>
  <div class="card-panel">
    <h2>Trip Context</h2>
    <form id="tripContext">
      <table>
        <tr>
          <td>
            <h6>
              Arrival Date & Time:
            </h6>
            <input type="text" name="arrivalDateTime" value="2019-06-18"><br>
            <br />
            <h6>
              Departure Date & Time:
            </h6>
            <input type="text" name="departureDateTime" value="2019-06-25"><br>
          </td>
          <td>
            <h6>
              Booked Segments:
            </h6>
            <label>
              <input type="checkbox" name="segments" value="air" />
              <span>Air Segment Booked</span>
            </label>
            <br />
            <label>
              <input type="checkbox" name="segments" value="hotel" />
              <span>Hotel Segment Booked</span>
            </label>
            <br />
            <label>
              <input type="checkbox" name="segments" value="car" />
              <span>Car Segment Booked</span>
            </label>
          </td>
          <td>
            <h6>
              Number in group:
            </h6>
            <input type="text" name="numberInGroup" value="1"><br>
          </td>
        </tr>
      </table>
    </form>
  </div>
  <div class="card-panel">
    <h2>Search Query</h2>
    <ul>
      <li>"Hotels for executives in NYC in April"</li>
      <li>"Car rental for executives in NYC in April"</li>
    </ul>
  </div>
  <div class="card-panel">
    <h2>Result</h2>
    <div class="row">
      <div class="column">
        <h5>TRIP REVIEW SCREEN</h5>
        <p>
          Ads
        </p>
      </div>
      <div class="column">
        <h5>SEARCH SCREEN</h5>
        <p>
          Ads
        </p>
      </div>
      <div class="column">
        <h5>SEARCH RESULTS SCREEN</h5>
        <p>
          Ads
        </p>
      </div>
    </div>
  </div>
</body>

<script>

  // Start the demo
  var travelProfile = {};
  var tripContext = {};
  $(document).ready(function () {
    setTravelProfile();
    setTripContext();
  });

  // Detect form changes
  $("#travelProfile").change(function () {
    setTravelProfile();
  });
  $("#tripContext").change(function () {
    setTripContext();
  });

  // Set the traveler profile
  function setTravelProfile() {
    travelProfile.rank = $("input[name=rank]").val();
    travelProfile.age = $("input[name=age]").val();
    travelProfile.gender = $("input[name=gender]").val();
  }

  // Set the trip context
  function setTripContext() {
    tripContext.arrivalDateTime = $("input[name=arrivalDateTime]").val();
    tripContext.departureDateTime = $("input[name=departureDateTime]").val();
    var segments = $('input[name=segments]:checked');
    tripContext.segments = [];
    segments.each(function () {
      tripContext.segments.push(this.value);
    });
    tripContext.numberInGroup = $("input[name=numberInGroup]").val();
  }

</script>

</html>